<!DOCTYPE html>
<html>
<head>

</head>
<style>
  #test_typing{
    max-width: 100%;
    display: flex;
    flex-wrap: wrap;
  }
  #test_typing span{
    margin-right: 20px;
    font-size: 2rem;
  }
</style>
<body>
  <div id="test_typing"></div>
</body>
<script>
  const testTyping = document.getElementById('test_typing');
  let testSpans = document.querySelectorAll('.test_span');


   async function getRandomText() {
      try {
        const response = await fetch('https://baconipsum.com/api/?type=meat-and-filler');
        const data = await response.json();
        return data.join(' ');
      } catch (error) {
        console.error('Error fetching random text:', error);
        return ''
      }
    }
  const add_text = async (testTyping) => {
      let text = ''
      const data = await getRandomText()
      data.split(' ').forEach(word => {
          const spanElement = document.createElement('span');
          spanElement.className = 'test_span';
          spanElement.textContent = word;
          spanElement.id = '';
          
          testTyping.appendChild(spanElement);
      });
      // game.text = [...game.text,...text.split(' ')]

      return document.querySelectorAll('.test_span');
  }
  document.addEventListener("DOMContentLoaded", async function() {

    let currentIndex = 0;
    const set_curent_span = async (i) => {
        testSpans = await add_text(testTyping);
        console.log('ffd ' + testSpans.length)
        testSpans.forEach(leater => {
            leater.id = ''
        })
        
        testSpans[i].id = 'test_span_curent';
    }
    set_curent_span(currentIndex)
  })
</script>
</html>